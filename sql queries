USE SQLDB
CREATE TABLE RRR(ID INT,SAL INT)
INSERT INTO RRR VALUES(1,1000),(2,2000),(3,3000),(4,4000),(5,5000)
SELECT * FROM RRR
SELECT ID,SAL FROM (SELECT *,ROW_NUMBER()OVER(ORDER BY SAL DESC)  FROM RRR) AS R WHERE R=2;
SELECT * FROM RRR R1 WHERE 2=(SELECT COUNT(*) FROM RRR R2 WHERE R1.SAL<=R2.SAL)

SELECT TOP 1 * FROM (SELECT TOP 2 * FROM RRR ORDER BY SAL DESC) AS EMP ORDER BY SAL 

SELECT * FROM RRR ORDER BY SAL DESC 
TRUNCATE TABLE RRR

SELECT * FROM RRR WHERE ID%2=1;

SELECT * FROM RRR WHERE ID=(SELECT MAX(ID) FROM RRR)

SELECT TOP 1 * FROM (SELECT TOP 2 * FROM RRR ORDER BY ID DESC) AS T ORDER BY ID

SELECT MAX(SAL) FROM RRR WHERE SAL <> (SELECT MAX(SAL) FROM RRR)  --1000 != 5000 5000!=5000


CREATE TABLE DOB(ID INT,NAME VARCHAR(20),DOB DATE)
INSERT INTO DOB VALUES(4,'IMMU','1986-11-19'),(2,'UMMI','2001-11-19'),(3,'IMRAN','1999-11-19')
SELECT * FROM DOB
SELECT *,DATEDIFF(YY,DOB,GETDATE()) AS AGE,YEAR(GETDATE())-YEAR(DOB) AS R FROM DOB

SELECT REVERSE(NAME) FROM DOB
SELECT CHARINDEX('I','IMRANI',2)
SELECT REPLACE('IMRANI','I','U')

SELECT * FROM (SELECT *,DATENAME(DW,DOB) AS D FROM DOB) AS T WHERE  DATEPART(DD,DOB)=19 


SELECT 10+ISNULL(NULL,0) ,11+COALESCE(NULL,0)


select * INTO EMP1 FROM DOB WHERE 1=2;

SELECT NAME FROM EMP1 GROUP BY NAME HAVING COUNT(*)>1

SELECT TOP 1 * FROM EMP1 ORDER BY NEWID()

select * into imu from emp1 where 1=2

insert into imu select * from emp1

select * from imu

CREATE PROCEDURE pimu
as
begin 
	select name,dob from imu
end

execute pimu

alter table imu add gender varchar(10)

select * from imu
update imu set gender ='male' where id in (2,3,4)

CREATE PROCEDURE SPCOUNTGENDER1 
@GENDER VARCHAR(10),
@GENDERCOUNT INT OUTPUT
AS 
BEGIN
	SELECT @GENDERCOUNT=COUNT(id) FROM IMU WHERE gender=@GENDER
end

declare @totalcount int
execute spcountgender1 'male',@totalcount out
if(@totalcount is null)
	print '@totalcount is null'
else
	print '@totalcount is '+convert(nvarchar(50),@totalcount)
print @totalcount
